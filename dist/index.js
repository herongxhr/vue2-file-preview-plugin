!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var a in n)("object"==typeof exports?exports:e)[a]=n[a]}}(global,(()=>(()=>{"use strict";var e={607:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,o)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0});var l=n(27),i={install:function(e,t){void 0===t&&(t={}),console.log("插件配置",t),e.prototype.$vueMediaPlayPluginOptions=t,e.directive("preview",l.default)}};o(n(371),t),t.default=i},371:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},593:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isImgType=t.imgExt=t.createElementForFileType=void 0,t.createElementForFileType=function(e,t){var n;switch(e.toLowerCase()){case"mp3":case"aac":case"flac":case"wav":case"wma":case"weba":case"ogg":case"opus":case"m4a":(n=document.createElement("audio")).setAttribute("controls","");break;case"mp4":case"webm":case"ogg":case"avi":case"wmv":case"flv":case"mov":case"m4v":(n=document.createElement("video")).setAttribute("controls","");break;case"jpg":case"jpeg":case"png":case"gif":case"bmp":case"webp":case"svg":case"ico":case"tif":case"tiff":n=document.createElement("img");break;case"pdf":var a=document.createElement("embed");a.type="application/pdf",n=a;break;case"doc":case"docx":var o=document.createElement("embed");o.type="application/msword",n=o;break;case"xls":case"xlsx":var l=document.createElement("embed");l.type="application/vnd.ms-excel",n=l;break;case"ppt":case"pptx":var i=document.createElement("embed");i.type="application/vnd.ms-powerpoint",n=i;break;case"txt":var r=document.createElement("a");r.href=t,(n=r).innerText="点击查看文件";break;default:var c=document.createElement("a");c.href=t,(n=c).innerText="点击下载文件"}return n},t.imgExt=[".jpe",".jpg",".jpeg",".gif",".png",".bmp",".ico",".svg",".webp"],t.isImgType=function(e){return e&&t.imgExt.some((function(t){return t.includes(e.toLowerCase())}))}},27:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=n(593),o="vue2-file-preview-plugin-dialog",l=new WeakMap,i={bind:function(e,t,n){var i,r=n.context&&n.context.$vueMediaPlayPluginOptions,c=null===(i=null==r?void 0:r.globalSettings)||void 0===i?void 0:i.frontDeployUrl;console.log("插件选项",r);var s=function e(){var n=t.value;if(!n||Array.isArray(n)&&0===n.length)console.warn("vue2-file-preview-plugin:传入的文件数据为空");else{var i=document.getElementById(o);i&&document.body.removeChild(i);var s=document.createElement("div");s.id=o,s.style.position="fixed",s.style.top="0px",s.style.right="0px",s.style.bottom="0px",s.style.left="0px",s.style.backgroundColor="white",s.style.zIndex="999999999",(null==r?void 0:r.dialogClassName)&&(s.className=r.dialogClassName);var d=function(){var e=document.getElementById(o);e&&(p.removeEventListener("click",d),document.body.removeChild(e))},p=document.createElement("div");p.innerText="关闭",p.style.cursor="pointer",p.addEventListener("click",d),l.set(p,e),(null==r?void 0:r.closeButtonStyle)&&(p.className=r.closeButtonStyle);var u=document.createElement("h2");u.innerText="文件预览";var m=document.createElement("div");m.style.height="50px",m.style.lineHeight="50px",m.style.background="#757eff",m.style.color="white",m.style.display="flex",m.style.alignItems="center",m.style.justifyContent="space-between",m.style.padding="0 16px",m.style.flex="none";var f=document.createElement("div");f.style.border="1px solid #999",f.style.flex="1",f.style.marginTop="16px",f.style.display="flex",f.style.justifyContent="center",f.style.alignItems="center";var v=document.createElement("div");if(v.style.height="calc(100% - ".concat(50,"px)"),v.style.display="flex",v.style.flexFlow="column nowrap",v.style.padding="16px",Array.isArray(n)&&n.length>1){var y=document.createElement("div");y.style.flex="none",y.style.overflowY="auto",y.style.borderBottom="1px solid #ccc",n.forEach((function(e,t){var n=document.createElement("li");if(n.style.height="40px",n.style.lineHeight="40px",n.style.cursor="pointer",n.textContent="".concat(e.fileName," (").concat(e.fileSize,")"),(0,a.isImgType)(e.fileType)){var o=document.createElement("img");o.src=e.filePath,n.prepend(o)}n.addEventListener("click",(function(){var t=(0,a.createElementForFileType)(e.fileType,e.filePath);t instanceof HTMLMediaElement&&(t.src=c+e.filePath),f.innerHTML="",f.appendChild(t)})),y.appendChild(n)})),f.style.height="calc(100% - ".concat(200,"px)"),v.append(y)}else{var g=Array.isArray(n)?n[0]:n,x=(0,a.createElementForFileType)(g.fileType,g.filePath);x instanceof HTMLMediaElement&&(x.src=g.filePath),f.style.height="100%",f.appendChild(x)}m.appendChild(u),m.append(p),s.append(m),v.append(f),s.append(v),document.body.append(s)}};l.set(e,s),e.addEventListener("click",s)},update:function(e,t){var n,a=t.value,l=document.getElementById(o);if(Array.isArray(a)){if(1!==a.length)return void console.error("Multiple media files found in the provided data");n=a[0]}else n=a;n&&l instanceof HTMLMediaElement?l.src=n.filePath:console.error("No media file found in the provided data")},unbind:function(e){var t=document.getElementById(o);t&&document.body.removeChild(t)}};t.default=i}},t={};return function n(a){var o=t[a];if(void 0!==o)return o.exports;var l=t[a]={exports:{}};return e[a].call(l.exports,l,l.exports,n),l.exports}(607)})()));